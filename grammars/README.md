# Grammars

## Structure

The `base` directory contains some IRTG grammars from the original [SLOG](https://github.com/bingzhilee/slog) repository. Some slight modifications have been added, which are mentioned in comments in the non-preprocessed files.

From these base grammars, we generate one general grammar that allows for valid parses on sentences with the linguistic properties we desire, i.e., prepositional phrases, relative clauses, and so on.

Furthermore, each of the six sentence types generated by this repository has its own separate grammar. Each grammar is meant to consist of a minimal amount of rules such that it only runs a valid parse on sentences following its specifications. This is used in the evaluation step in order to determine which sentences have been correctly generated and which sets to keep or to discard.

## Pipeline

The `combine_grammars.py` script is a helper script that was used to combine the main and relative clause grammars from SLOG into a single IRTG file.

The `cogs-preprocess.py` script is adapted from SLOG and is used in conjunction with `specify_grammar.irtg` in order to dynamically render the final grammar from the "base" IRTG files. The naming convention for the outputs of this script is usually to prepend `preprocessed-` to the grammar name to avoid confusion.

The `irtg2ebnf.py` script simply converts the IRTG format, containing a SCFG, into its English rules in a simplified format.
